<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />

<script type="text/javascript" src="http://cdn.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
<script type="text/javascript" src="http://cdn.robotwebtools.org/roslibjs/current/roslib.min.js"></script>
<script type="text/javascript" src="http://cdn.robotwebtools.org/mjpegcanvasjs/current/mjpegcanvas.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script type="text/javascript" src="rosclient.js"></script>

<link rel="stylesheet" href="style.css" type="text/css" media="screen, projection" />
</head>

<body>
	<header>
		<h1>Camera Network</h1>
	</header>
  
	<!-- Network interface -->
	<p class="title">Network Interface</p>
	<div class="mainStyle">
		<form name="network" action="javascript:void(0)" method="get">
    		<label>Frequency (s 0 = single Shot) :</label>
			<input id="network_frequency" type="number" value=0 name="network_timelaps_frequency" >
        	<label>Quantity (<0 = infinite) : </label>
        	<input id="network_quantity" type="number" value=0 name="network_timelaps_qty" >
      		<dl>
        		<dt>Status:</dt>
          			<dd id ="network_timelaps_status"></dd>
        		<dt>Feedback:</dt>
          			<dd id="network_timelaps_feedback"></dd>
        		<dt>Result:</dt>
          			<dd id="network_timelaps_result"></dd>
      		</dl>
      
			<input type="submit" class="styleButton" onclick="_network_timelaps.setAction(this.form)" value="Set">
    	</form>
		<button type="button" class="styleButton" onclick = "_network_timelaps.stopAction()">Stop</button>

    	
	</div> 
 

  <!-- Download interface -->
	<div class="mainStyle">
		<form name="download" action="javascript:void(0)" method="get">
			<label> Download frequency (s) (0 = one time) : </label>
	 		<input id="input_frequency" type="number" value=0 name="network_download_frequency" >
			<dl>
				<dt>Status:</dt>
					<dd id ="network_download_status"></dd>
				<dt>Feedback:</dt>
					<dd id="network_download_feedback"></dd>
				<dt>Result:</dt>
					<dd id="network_download_termination"></dd>
			</dl>
			<input type="submit" class="styleButton" onclick="_network_download.setAction(this.form)" value="Download">
		</form> 
		<button type="button" class="styleButton" onclick = "_network_download.stopAction()">Stop</button>

	</div>  
  
  
  <!-- Device interface -->
	<p class="title">Device Interface</p>
	<div class="mainStyle">
		<div class="parameterStyle">
			<div class="left">
				<select class = "styleSelect" onchange="selectEvent(this);" id ="deviceList">
					<option value="index0">Online Devices</option>
				</select> 
				<dl>
					<dt>Device:</dt>
						<dd id="device_name"></dd>
					<dt>IP:</dt>
						<dd id="device_ip"></dd>
					<dt>Camera Type:</dt>
						<dd id="device_camera"></dd>
				</dl> 
			  
			  	<dl>
					<dt>ISO:</dt>
						<dd id="device_iso"></dd>
					<dt>Aperture:</dt>
						<dd id="device_aperture"></dd>
					<dt>Shutter speed:</dt>
						<dd id="device_shutterspeed"></dd>
					<dt>Image format :</dt>
						<dd id ="device_imageformat"></dd>
					</dl>
			</div>
				
			<form class="right" name="timelaps" action="javascript:void(0)" method="get">
				<label>iso : </label>
				<input id="device_parameter_iso" value='' name="device_parameter_iso" >
				</br>
				<label>Aperture :</label>
				<input id="device_parameter_aperture"  value='' name="device_parameter_aperture" align="right" >
				</br>
				<label>Shutter Speed :</label>
				<input id="device_parameter_shutterspeed" value='' name="device_parameter_shutterspeed">
				</br>
				<label>Format : </label>
				<input id="device_parameter_imageformat"  value='' name="device_parameter_imageformat" >
				</br>
				<input type="submit" class="styleButton" onclick="_current_device.setParameters(this.form)" value="Set">
			</form>
		</div>

		<!-- Parameter interface -->
		<div class="parameterStyle" id="capture_mode">
			<div class="left">
				<p>Capture Parameters:</p>
				<p id="device_parameters"></p>
			</div>
			<div class="right">
				<button type="button" class="styleButton" onclick = "_current_device.removeSequence()">Reset</button>
				<form class="parameterStyle" name="timelaps" action="javascript:void(0)" method="get">
					<label>Aperture : </label>	
					<input id="device_sequence_aperture"  value='' name="device_sequence_aperture" >
					</br>
					<label>Shutter Speed : </label>
					<input id="device_sequence_shutterspeed" value='' name="device_sequence_shutterspeed" >
					</br>
					<input type="submit" class="styleButton" onclick="_current_device.addSequence(this.form)" value="Add">
				</form>
				<button type="button" class="styleButton" onclick = "_current_device.saveSequence()">Save</button>
			</div>
		</div>

    
	<!-- Timelaps interface -->
		<div class="timelapsStyle">
			<form name="timelaps" action="javascript:void(0)" method="get">
				<label>Frequency (s) : </label>
				<input id="device_timelaps_frequency" type="number" value=0 name="device_timelaps_frequency" >
				<label>Quantity (<0 = infinite) : </label>
				<input id="device_timelaps_qty" type="number" value=0 name="device_timelaps_qty" >
				<dl>
					<dt>Status:</dt>
						<dd id ="device_timelaps_status"></dd>
					<dt>Feedback:</dt>
						<dd id="device_timelaps_feedback"></dd>
					<dt>Termination:</dt>
						<dd id="device_timelaps_result"></dd>
				</dl>
  
				<input type="submit" class="styleButton" onclick="_current_device.setAction(this.form)" value="Set">
			</form>
			<button type="button" class="styleButton" onclick = "_current_device.stopAction()">Stop</button>

		</div> 
  
		<div class="timelapsStyle">
			<img id="imagePreview" src="http://localhost:8181/stream?topic=/preview?width=640?height=480">
			<button type="button" class="styleButton" onclick = "_current_device.drawPreview()">Preview</button>
		</div>
	</div> 
  
</body>
</html>
